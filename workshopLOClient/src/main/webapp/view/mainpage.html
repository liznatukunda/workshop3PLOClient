<!DOCTYPE html>
<html lang="en">

    <head>
        <title>Boer Piet</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <script type="text/javascript" src = "../js/jquery-3.3.1.js"></script>

        <link rel="stylesheet" type="text/css" href="../js/bootstrap.css"/>
        <script type="text/javascript" src = "../js/bootstrap.js"></script>

        <script type="text/javascript" src = "../js/dataTables.jqueryui.js"></script>
        <script type="text/javascript" src="../js/datatables.js"></script>
        <link rel="stylesheet" type="text/css" href="../js/datatables.css"/>
        <link rel="stylesheet" type="text/css" href="../js/dataTables.jqueryui.css"/>
        <link rel="stylesheet" href="../css/styles.css" type="text/css">


        <!--------------------------------------------------------------------------------------------------VIEW accountS    -->
        <script type="text/javascript">
            $(document).ready(function () {
                var tableaccount = $('#accounts').DataTable({
                    "pagingType": "full_numbers",
                    "lengthMenu": [[3, 5, 10, -1], [3, 5, 10, "All"]],
                    "scrollY": "400px",
                    textalign: "center",
                    ajax: {
                        "url": 'http://localhost:8080/workshop3LO/webresources/account',
                        "type": 'GET',
                        "cache": false,
                        "dataType": 'json',
                        "dataSrc": ""


                    },
                    columns: [
                        {title: "id ", data: "id", className: 'dt-body-center'},
                        {title: "rol", data: "Rol", className: 'dt-body-center'},
                        {title: "username", data: "username", className: 'dt-body-center'},
                        {title: "Edit", data: null,
                            render: function (data, type, full) {
                                return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>';
//                            return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>' + "  " + '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</a>';
//                           return new array('<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Edit' + '</a>', '<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Delete' + '</a>');             
                            }},
                        {title: "Delete", data: null,
                            render: function (data, type, full) {
                                return '<b class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</b>';
                            }
                        }]
                });
                $("#accounts").on("click", 'a', function () {
                    var data1 = tableaccount.row($(this).parents('tr')).data();
                    openAccountEditForm(data1);
                });

                $("#accounts").on("click", 'b', function () {
                    var data1 = tableaccount.row($(this).parents('tr')).data();
                    deleteAccount(data1);
                });





            });
        </script>
        <!--------------------------------------------------------------------------------------------------VIEW artikelen    -->
        <script type="text/javascript">
            $(document).ready(function () {
                var table = $('#artikel').DataTable({
                    "pagingType": "full_numbers",
                    "lengthMenu": [[3, 5, 10, -1], [3, 5, 10, "All"]],
                    "scrollY": "400px",
                    textalign: "center",
                    ajax: {
                        "url": 'http://localhost:8080/workshop3LO/webresources/artikel',
                        "type": 'GET',
                        "cache": false,
                        "dataType": 'json',
                        "dataSrc": ""

                    },
                    columns: [

                        {title: "id ", data: "id", className: 'dt-body-center'},
                        {title: "naam", data: "naam", className: 'dt-body-center'},
                        {title: "prijs", data: "prijs", className: 'dt-body-center'},
                        {title: "voorraad", data: "voorraad", className: 'dt-body-center'},
                        {title: "Edit", data: null,
                            render: function (data, type, full) {
                                return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>';
//                            return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>' + "  " + '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</a>';
//                           return new array('<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Edit' + '</a>', '<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Delete' + '</a>');             
                            }},
                        {title: "Delete", data: null,
                            render: function (data, type, full) {
                                return '<b class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</b>';
                            }
                        }]
                });
                $("#artikel").on("click", 'a', function () {
                    var data1 = table.row($(this).parents('tr')).data();
                    openEditForm(data1);
                });

                $("#artikel").on("click", 'b', function () {
                    var data1 = table.row($(this).parents('tr')).data();
                    deleteArtikel(data1);
                });

            });
        </script>
        <!--------------------------------------------------------------------------------------------------VIEW klanten -->
        <script type="text/javascript">
            $(document).ready(function () {
                var tableklant = $('#klanten').DataTable({
                    "pagingType": "full_numbers",
                    "lengthMenu": [[3, 5, 10, -1], [3, 5, 10, "All"]],
                    "scrollY": "400px",
                    textalign: "center",
                    ajax: {
                        "url": 'http://localhost:8080/workshop3LO/webresources/klant',
                        "type": 'GET',
                        "cache": false,
                        "dataType": 'json',
                        "dataSrc": ""


                    },
                    columns: [
                        {title: "id ", data: "id", className: 'dt-body-center'},
                        {title: "Achternaam", data: "achternaam", className: 'dt-body-center'},
                        {title: "Tussenvoegsel", data: "tussenvoegsel", className: 'dt-body-center'},
                        {title: "Voornaam", data: "voornaam", className: 'dt-body-center'},
                        {title: "Account Id", data: "accountId.id", className: 'dt-body-center'},
                        {title: "Edit", data: null,
                            render: function (data, type, full) {
                                return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>';
//                            return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>' + "  " + '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</a>';
//                           return new array('<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Edit' + '</a>', '<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Delete' + '</a>');             
                            }},
                        {title: "Delete", data: null,
                            render: function (data, type, full) {
                                return '<b class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</b>';
                            }
                        }]
                });
                $("#klanten").on("click", 'a', function () {
                    var data1 = tableklant.row($(this).parents('tr')).data();
                    openKlantEditForm(data1);
                });

                $("#klanten").on("click", 'b', function () {
                    var data1 = tableklant.row($(this).parents('tr')).data();
                    deleteKlant(data1);
                });






            });
        </script>
        <!----------------------------------------------------------------------------------------------VIEW bestellingen -->
        <script type="text/javascript">

            $(document).ready(function () {
                var tablebestelling = $('#bestelling').DataTable({
                    "pagingType": "full_numbers",
                    "lengthMenu": [[3, 5, 10, -1], [3, 5, 10, "All"]],
                    "scrollY": "400px",
                    textalign: "center",
                    ajax: {
                        "url": 'http://localhost:8080/workshop3LO/webresources/bestelling',
                        "type": 'GET',
                        "cache": false,
                        "dataType": 'json',
                        "dataSrc": ""


                    },
                    columns: [
                        {title: "id ", data: "id", className: 'dt-body-center'},
                        {title: "Totaalprijs", data: "prijs", className: 'dt-body-center'},
                        {title: "klant", data: null,
                            "render": function (data, type, row) {
                                return data.klantidKlant.voornaam + ' ' + data.klantidKlant.tussenvoegsel + ' ' + data.klantidKlant.achternaam;
                            }},
                        {title: "Edit", data: null,
                            render: function (data, type, full) {
                                return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>';
//                            return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>' + "  " + '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</a>';
//                           return new array('<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Edit' + '</a>', '<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Delete' + '</a>');             
                            }},
                        {title: "Delete", data: null,
                            render: function (data, type, full) {
                                return '<b class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</b>';
                            }
                        }]
                });
                $("#bestelling").on("click", 'a', function () {
                    var data1 = tablebestelling.row($(this).parents('tr')).data();
                    var table = $('#bestelregel').dataTable();
                    table.api().ajax.url('http://localhost:8080/workshop3LO/webresources/bestelregel/search/' + data1.id).load();
                    document.getElementById('BestelRegel').scrollIntoView();
                });

                $("#bestelling").on("click", 'b', function () {
                    var data1 = tablebestelling.row($(this).parents('tr')).data();
                    deleteBestelling(data1);
                });




            });
        </script>
        <!--------------------------------------------------------------------------------------------------VIEW bestelregel -->
        <script type="text/javascript">
            $(document).ready(function () {
                var tablebestelregel = $('#bestelregel').DataTable({
                    "pagingType": "full_numbers",
                    "lengthMenu": [[3, 5, 10, -1], [3, 5, 10, "All"]],
                    "scrollY": "400px",
                    textalign: "center",
                    ajax: {
                        "url": 'http://localhost:8080/workshop3LO/webresources/bestelregel',
                        "type": 'GET',
                        "cache": false,
                        "dataType": 'json',
                        "dataSrc": ""


                    },
                    columns: [
                        {title: "id ", data: "id", className: 'dt-body-center'},
                        {title: "Aantal", data: "aantal", className: 'dt-body-center'},
                        {title: "Prijs", data: "prijs", className: 'dt-body-center'},
                        {title: "Artikel", data: "artikelidArtikel.naam", className: 'dt-body-center'},
                        {title: "Bestelling Id", data: "bestellingidBestelling.id", className: 'dt-body-center'},
                        {title: "Edit", data: null,
                            render: function (data, type, full) {
                                return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>';
//                            return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>' + "  " + '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</a>';
//                           return new array('<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Edit' + '</a>', '<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Delete' + '</a>');             
                            }},
                        {title: "Delete", data: null,
                            render: function (data, type, full) {
                                return '<b class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</b>';
                            }
                        }]
                });
                $("#bestelregel").on("click", 'a', function () {
                    var data1 = tablebestelregel.row($(this).parents('tr')).data();
                    openBestelregelForm(data1);
                });

                $("#bestelregel").on("click", 'b', function () {
                    var data1 = tablebestelregel.row($(this).parents('tr')).data();
                    deleteBestelregel(data1);
                });
            });
        </script>
        <!--------------------------------------------------------------------------------------------------VIEW Address -->
        <script type="text/javascript">
            $(document).ready(function () {
                var tableAddress = $('#Address').DataTable({
                    "pagingType": "full_numbers",
                    "lengthMenu": [[3, 5, 10, -1], [3, 5, 10, "All"]],
                    "scrollY": "400px",
                    textalign: "center",
                    ajax: {
                        "url": 'http://localhost:8080/workshop3LO/webresources/adres',
                        "type": 'GET',
                        "cache": false,
                        "dataType": 'json',
                        "dataSrc": ""


                    },
                    columns: [
                        {title: "id ", data: "id", className: 'dt-body-center'},
                        {title: "Straatnaam", data: "straatnaam", className: 'dt-body-center'},
                        {title: "huisnummer", data: "huisnummer", className: 'dt-body-center'},
                        {title: "toevoeging", data: "toevoeging", className: 'dt-body-center'},
                        {title: "postcode", data: "postcode", className: 'dt-body-center'},
                        {title: "woonplaats", data: "woonplaats", className: 'dt-body-center'},
                        {title: "adresType", data: "adresType", className: 'dt-body-center'},
                        {title: "klantId", data: "klantidKlant.id", className: 'dt-body-center'},
                        {title: "Edit", data: null,
                            render: function (data, type, full) {
                                return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>';
//                            return '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Edit' + '</a>' + "  " + '<a class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</a>';
//                           return new array('<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Edit' + '</a>', '<a class="btn btn-info btn-sm" href=#/' + full[0] + '>' + 'Delete' + '</a>');             
                            }},
                        {title: "Delete", data: null,
                            render: function (data, type, full) {
                                return '<b class="btn btn-info btn-sm" href=#/' + data + '>' + 'Delete' + '</b>';
                            }
                        }]
                });
                $("#Address").on("click", 'a', function () {
                    var data1 = tableAddress.row($(this).parents('tr')).data();
                    openAddressEditForm(data1);
                });

                $("#Address").on("click", 'b', function () {
                    var data1 = tableAddress.row($(this).parents('tr')).data();
                    deleteAddress(data1);
                });






            });
        </script>

    </head>
    <body id="mainPage" data-spy="scroll" data-target=".navbar" data-offset="60">

        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>                        
                    </button>

                    <a href="#mainPage">
                        <img border="0" alt="" src="../pics/koe.jpg" width="125" height="125"></a>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="#Accounts">Accounts</a></li>
                        <li><a href="#Artikelen">Artikelen</a></li>
                        <li><a href="#Klant">Klant</a></li>
                        <li><a href="#Bestelling">Bestelling</a></li>
                        <li><a href="#BestelRegel">BestelRegel</a></li>
                        <li><a href="#address">Address</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="jumbotron text-center">
            <h1>Boer Piet's Kaaswinkel </h1> 
            <p>Wij specialiseren in geweldig lekkere kazen</p> 
            <form>
                <!--                <div class="input-group">
                                    <input type="email" class="form-control" size="50" placeholder="Email Address" required>
                                    <div class="input-group-btn">
                                        <button type="button" class="btn btn-danger" style="background-color: #bc3409; border-color: black " >Subscribe</button>
                                    </div>
                                </div>-->
            </form>
        </div>

        <!-- Container (About Section) -->
        <div id="about" class="container-fluid">
            <div class="row">
                <div class="col-sm-8">
                    <h2>Boer Piet</h2><br>
                    <h4>Boer Piet</h4><br>
                    <p>Kaas is een zuivelproduct met een vaste structuur. Door het toevoegen van stremsel en zuursel worden de vaste stoffen in de melk (eiwitten, vetten en mineralen) gescheiden van het vocht (de wei). Voorts wordt zout en eventueel schimmels toegevoegd tijdens de bereiding van kaas. Het Nederlandse woord voor kaas stamt van het Latijnse caseus, dat dezelfde betekenis heeft.
                        Kaas bevat, naast de hoofdbestanddelen dierlijk vet en eiwit, calcium en vitamines A, B en D. Studies hebben uitgewezen dat kaas waarschijnlijk gezond is voor de tanden. Kaas wordt een 'levend' voedsel genoemd omdat er miljoenen bacteriën in leven en vaak ook schimmels. In bepaalde kazen zoals de Mimolette en Stilton bevindt zich de kaasmijt die gaten en spleten in de kaas vreet. Een andere soort kaasmijt wordt gebruikt bij de productie van de kwarkkaas Milbenkäse of 'mijtkaas'. De kaasvlieg komt voor in Casu marzu.
                        Kaas wordt gemaakt van de melk van bijna alle gedomesticeerde herbivoren, dat is in verreweg de meeste gevallen van koe-, geiten- en schapenmelk. Verder wordt kaas ook gemaakt van buffel-, paarden-, kamelenmelk, rendierenmelk en jakmelk.

                    </p>

                    <br><a class="btn btn-default btn-lg" href="#contact">Get in Touch</a>
                </div>
                <div class="col-sm-4">
                    <span> <img src="../pics/generic.jpg" alt=""/></span>
                </div>
            </div>
        </div>

        <div id="Accounts" class="container-fluid bg-grey text-center">
            <div class="row">

                <!--                <div class="col-sm-8">-->
                <h2>Accounts</h2><br>
                <div class="header">

                    <button id="btnAdd" onclick="openAddAccountForm()">Add New </button>
                    <table id="accounts" class="display" width="100%">

                    </table>
                </div>
            </div>

            <!---------------------------------------------------------------------------------ADD account form   -->

            <div id = "accountAddpopup">
                <div class="form-popup" id="addAccountForm">
                    <form  id="accountform" class="form-container" >
                        <h1>Voeg Account toe</h1>

                        <label for="usernaam" ><b>Username</b></label>
                        <input id="usernaam" type="text" placeholder="voer usernaam in" name="usernaam" required  minlength=4 oninvalid="this.setCustomValidity('Voer Usernaam in ')"  oninput="this.setCustomValidity('')">

                        <label for="password" ><b>Password</b></label>
                        <input id="password" type="password" placeholder="voer Password in" name="password" required  minlength=4 oninvalid="this.setCustomValidity('Voer wachtwoord in ')"  oninput="this.setCustomValidity('')">

                        <label for="rol" ><b>Rol</b></label>
                        <select id="Rol" >
                            <option value="klant">klant</option>
                            <option value="medewerker">medewerker</option>
                            <option value="beheerder">beheerder</option>
                        </select>

                        
                        <button type="button" class="btn" onclick="validateAddAccount()">save</button>
                        <button type="button" class="btn cancel" onclick="closeAddAccountForm()">Close</button>
                    </form>
                </div>

                  <script>
                        function validateAddAccount() {
                            if (document.getElementById('accountform').checkValidity()) {
                                saveAccountForm(document.getElementById('usernaam').value, document.getElementById('password').value, document.getElementById('Rol').value);
                            } else
                            {
                                alert('ongeldige waarden');
//                                document.getElementById('artikelform').querySelector('input[type="submit"]').click();

                            }
                        }
                        ;
                    </script>        
                
                <script>
                    function openAddAccountForm() {
                        document.getElementById("accountform").reset();
                        document.getElementById("addAccountForm").style.display = "block";
                    }

                    function closeAddAccountForm() {
                        document.getElementById("addAccountForm").style.display = "none";
                    }
                    function saveAccountForm(usernaam, password, rol) {

                        $.ajax({
                            type: 'POST',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/account',
                            dataType: "json",
                            data: JSON.stringify({
                                "Rol": rol,
                                "id": null,
                                "password": password,
                                "username": usernaam



                            }),
                            success: function (data, textStatus, jqXHR) {
                                alert('Account created successfully');

                                var table = $('#accounts').dataTable();
                                table.api().ajax.reload();
                            }});
                        closeAddAccountForm();
                    }
                </script>
            </div>
            <!----------------------------------------------------------------------------------EDIT  Account -->
            <div id = "accountEditDeletepopup">
                <div class="form-popup" id="EditDeleteAccountForm">
                    <form  id="accountfrm2" class="form-container" >
                        <h1>Voeg Account toe</h1>

                        <label for="id" ><b>Id</b></label>
                        <input id="accounteditid" type="number" placeholder="" name="id" required value="" disabled="" >

                        <label for="usernaam" ><b>Username</b></label>
                        <input id="accounteditusernaam" type="text" placeholder="" name="usernaam" value="" required minlength=4 oninvalid="this.setCustomValidity('Voer Usernaam in ')"  oninput="this.setCustomValidity('')">

                        <label for="password" ><b>Password</b></label>
                        <input id="accounteditpassword" type="password" placeholder="" name="password" value="" required minlength=4 oninvalid="this.setCustomValidity('Voer wachtwoord in ')"  oninput="this.setCustomValidity('')">

                        <label for="rol" ><b>Rol</b></label>
                        <select id="accounteditRol"  disabled>
                            <option value="klant">klant</option>
                            <option value="medewerker">medewerker</option>
                            <option value="beheerder">beheerder</option>
                        </select>

                        <button type="button" class="btn" onclick=" validateEditAccount()">save</button>
                        <button type="button" class="btn cancel" onclick="closeAccountEditForm()">Close</button>
                    </form>
                </div>

                <script>
                        function validateEditAccount() {
                            if (document.getElementById('accountfrm2').checkValidity()) {
                                editAccountForm(document.getElementById('accounteditid').value, document.getElementById('accounteditusernaam').value, document.getElementById('accounteditpassword').value, document.getElementById('accounteditRol').value);
                            } else
                            {
                                alert('ongeldige waarden');
//                                document.getElementById('artikelform').querySelector('input[type="submit"]').click();

                            }
                        }
                        ;
                    </script>        
                
                <script>
                    function openAccountEditForm(data) {
                        document.getElementById("accountfrm2").reset();
                        $('#accounteditid').attr('value', data.id.valueOf());
                        $('#accounteditusernaam').attr('value', data.username.valueOf());
                        $('#accounteditpassword').attr('value', data.password.valueOf());
                        $('#accounteditRol').val(data.Rol.valueOf());
                        document.getElementById("EditDeleteAccountForm").style.display = "block";
                    }
           

                    function closeAccountEditForm() {
                        document.getElementById("EditDeleteAccountForm").style.display = "none";
                    }
                    function editAccountForm(id, usernaam, password, rol) {

                        $.ajax({
                            type: 'PUT',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/account/' + id,
                            dataType: "json",
                            data: JSON.stringify({
                                "Rol": rol,
                                "id": id,
                                "password": password,
                                "username": usernaam

                            }),
                            success: function (data, textStatus, jqXHR) {
                                alert('Account has been updated');
                                var table = $('#accounts').dataTable();
                                table.api().ajax.reload();
                            }});
                        closeAccountEditForm();
                    }
                </script>
                <!---------------------------------------------------------------------------------------DELETE Account -->
                <script>

                    function deleteAccount(data) {


                        var retVal = confirm("Do you want to continue ?");
                        if (retVal === true) {
                            $.ajax({
                                type: 'DELETE',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/account/' + data.id.valueOf(),
                                dataType: "json"
//                                        data: JSON.stringify({
//                                            "id": data.id.valueOf()
//                                            "naam": naam,
//                                            "prijs": prijs,
//                                            "voorraad": voorraad

                                ,
                                success: function (data, textStatus, jqXHR) {
                                    alert('Account deleted successfully');
                                    var table = $('#accounts').dataTable();
                                    table.api().ajax.reload();
                                }});

                        } else {
                            alert("User does not want to continue!");

                        }

                    }
                </script>
            </div>

            <!-- Container (Artikelen Section) -->
            <div id="Artikelen" class="container-fluid text-center">
                <h2>Artikelen</h2>
                <h4>Het assortiment</h4>
                <br>
                <div class="header">


                    <!--         <input type="text" id="searchKey"/>
                                <button id="btnSearch">Search</button>-->
                    <button id="btnAddArtikel" onclick="openAddForm()">Add New </button>

                    <table id="artikel" class="display" width="100%">

                    </table>



                </div>


                <!---------------------------------------------------------------------------------ADD artikel form   -->

                <div id = "artikelAddpopup">
                    <div class="form-popup" id="addArtikelForm">
                        <form  id="artikelform" class="form-container" >
                            <h1>Voeg Artikel toe</h1>

                            <label for="naam" ><b>Naam</b></label>
                            <input id="naam" type="text" placeholder="voer naam in" name="naam" required  oninvalid="this.setCustomValidity('Voer artikelnaam in ')"  oninput="this.setCustomValidity('')">

                            <label for="prijs"><b>Prijs</b></label>
                            <input type="number" id="prijs" placeholder="voer prijs in" name="prijs" required min="0" oninvalid="this.setCustomValidity('Voer prijs in')"  oninput="this.setCustomValidity('')">

                            <label for="voorraad"><b>Voorraad</b></label>
                            <input type="number" id="voorraad" placeholder="voer voorraad in" name="voorraad" required min="0" oninvalid="this.setCustomValidity('Voer voorraad in')"  oninput="this.setCustomValidity('')">

                            <!--                            <button type="button" class="btn" onclick="saveArtikelForm(document.getElementById('naam').value, document.getElementById('prijs').value, document.getElementById('voorraad').value)">save</button>
                                                        <button type="button" class="btn cancel" onclick="closeAddForm()">Close</button>-->


                            <button type="button" class="btn" onclick="validateArtikel()">save</button>
                            <button type="button" class="btn cancel" onclick="closeAddForm()">Close</button>
                        </form>
                    </div>
                    <script>
                        function validateArtikel() {
                            if (document.getElementById('artikelform').checkValidity()) {
                                saveArtikelForm(document.getElementById('naam').value, document.getElementById('prijs').value, document.getElementById('voorraad').value);
                            } else
                            {
                                alert('ongeldige waarden');
//                                document.getElementById('artikelform').querySelector('input[type="submit"]').click();

                            }
                        }
                        ;
                    </script>                

                    <script>
                        function openAddForm() {
                            document.getElementById("artikelform").reset();
                            document.getElementById("addArtikelForm").style.display = "block";
                        }

                        function closeAddForm() {
                            document.getElementById("addArtikelForm").style.display = "none";
                        }
                        function saveArtikelForm(naam, prijs, voorraad) {

                            $.ajax({
                                type: 'POST',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/artikel',
                                dataType: "json",
                                data: JSON.stringify({
                                    "id": null,
                                    "naam": naam,
                                    "prijs": prijs,
                                    "voorraad": voorraad

                                }),
                                success: function (data, textStatus, jqXHR) {
                                    alert('Artikel created successfully');

                                    var table = $('#artikel').dataTable();
                                    table.api().ajax.reload();
                                }});
                            closeAddForm();
                        }
                    </script>
                </div>

                <!----------------------------------------------------------------------------------EDIT  Artikel -->
                <div id = "artikelEditDeletepopup">
                    <div class="form-popup" id="EditDeleteArtikelForm">
                        <form  id="frm2" class="form-container" >
                            <h1>Voeg Artikel toe</h1>

                            <label for="id" ><b>Id</b></label>
                            <input id="artikeleditid" type="number" placeholder="" name="id" required value="" disabled="" >

                            <label for="naam" ><b>Naam</b></label>
                            <input id="artikeleditnaam" type="text" placeholder="" name="naam" value="" required  oninvalid="this.setCustomValidity('Voer artikelnaam in ')"  oninput="this.setCustomValidity('')">

                            <label for="prijs"><b>Prijs</b></label>
                            <input type="number" id="artikeleditprijs" placeholder="" name="prijs" value="" required min="0"  oninvalid="this.setCustomValidity('Voer prijs in ')"  oninput="this.setCustomValidity('')">

                            <label for="voorraad"><b>Voorraad</b></label>
                            <input type="number" id="artikeleditvoorraad" placeholder="" name="voorraad" value="" required min="0"  oninvalid="this.setCustomValidity('Voer voorraad in ')"  oninput="this.setCustomValidity('')">

                            <button type="button" class="btn" onclick="validateEditArtikel()">save</button>
                            <button type="button" class="btn cancel" onclick="closeEditArtikelForm()">Close</button>
                        </form>
                    </div>
                    
                    
                     <script>
                        function validateEditArtikel() {
                            if (document.getElementById('frm2').checkValidity()) {
                                editArtikelForm(document.getElementById('artikeleditid').value, document.getElementById('artikeleditnaam').value, document.getElementById('artikeleditprijs').value, document.getElementById('artikeleditvoorraad').value);
                            } else
                            {
                                alert('ongeldige waarden');
//                                document.getElementById('artikelform').querySelector('input[type="submit"]').click();

                            }
                        }
                        ;
                    </script>           

                    <script>
                        function openEditForm(data) {
                            document.getElementById("frm2").reset();
                            $('#artikeleditid').attr('value', data.id.valueOf());
                            $('#artikeleditnaam').attr('value', data.naam.valueOf());
                            $('#artikeleditprijs').attr('value', data.prijs.valueOf());
                            $('#artikeleditvoorraad').attr('value', data.voorraad.valueOf());
                            document.getElementById("EditDeleteArtikelForm").style.display = "block";
                        }

                        function closeEditArtikelForm() {
                            document.getElementById("EditDeleteArtikelForm").style.display = "none";
                        }
                        function editArtikelForm(id, naam, prijs, voorraad) {

                            $.ajax({
                                type: 'PUT',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/artikel/' + id,
                                dataType: "json",
                                data: JSON.stringify({
                                    "id": id,
                                    "naam": naam,
                                    "prijs": prijs,
                                    "voorraad": voorraad

                                }),
                                success: function (data, textStatus, jqXHR) {
                                    alert('Artikel has been updated');
                                    var table = $('#artikel').dataTable();
                                    table.api().ajax.reload();
                                }});
                            closeEditArtikelForm();
                        }
                    </script>

                    <!---------------------------------------------------------------------------------------DELETE Artikel -->
                    <script>

                        function deleteArtikel(data) {


                            var retVal = confirm("Do you want to continue ?");
                            if (retVal === true) {
                                $.ajax({
                                    type: 'DELETE',
                                    contentType: 'application/json',
                                    url: 'http://localhost:8080/workshop3LO/webresources/artikel/' + data.id.valueOf(),
                                    dataType: "json"
//                                        data: JSON.stringify({
//                                            "id": data.id.valueOf()
//                                            "naam": naam,
//                                            "prijs": prijs,
//                                            "voorraad": voorraad

                                    ,
                                    success: function (data, textStatus, jqXHR) {
                                        alert('Artikel deleted successfully');
                                        var table = $('#artikel').dataTable();
                                        table.api().ajax.reload();
                                    }});

                            } else {
                                alert("User does not want to continue!");

                            }

                        }
                    </script>
                </div>

                <br><br>
                <div class="row slideanim">
                    <div class="col-sm-4">
                        <span class="glyphicon glyphicon-leaf logo-small"></span>
                        <h4>GREEN</h4>
                        <p>Met zorg voor het milieu gemaakt</p>
                    </div>
                    <div class="col-sm-4">
                        <span class="glyphicon glyphicon-certificate logo-small"></span>
                        <h4>CERTIFIED</h4>
                        <p>Biologisch gecertificeerd</p>
                    </div>
                    <div class="col-sm-4">
                        <span class="glyphicon glyphicon-wrench logo-small"></span>
                        <h4 style="color:#303030;">HARD WORK</h4>
                        <p>Klant is koning</p>
                    </div>
                </div>
            </div>

            <!-- Container (klant Section) -->
            <div id="Klant" class="container-fluid text-center bg-grey">
                <h2>Klanten</h2><br>
                <h4>Klantoverzicht</h4>
                <div class="header">

                    <button id="btnAdd" onclick="openAddKlantForm()">Add New </button>
                    <table id="klanten" class="display" width="100%">

                    </table>
                </div>
                <!---------------------------------------------------------------------------------ADD klant form   -->

                <div id = "klantAddpopup">
                    <div class="form-popup" id="addKlantForm">
                        <form  id="klantform" class="form-container" >
                            <h1>Voeg klant toe</h1>

                            <label for="voornaam" ><b>Voornaam</b></label>
                            <input id="voornaam" type="text" placeholder="voer voornaam in" name="voornaam" required maxlength="45" oninvalid="this.setCustomValidity('Voer voornaam in ')"  oninput="this.setCustomValidity('')">

                            <label for="tussenvoegsel" ><b>Tussenvoegsel</b></label>
                            <input id="tussenvoegsel" type="text" placeholder="voer tussenvoegsel in" name="tussenvoegsel" maxlength="45">

                            <label for="achternaam" ><b>Achternaam</b></label>
                            <input id="achternaam" type="text" placeholder="voer achternaam in" name="achternaam" required maxlength="45" oninvalid="this.setCustomValidity('Voer achternaam in ')"  oninput="this.setCustomValidity('')">

                            <!--                            To be selected from already existing accounts-->
                            <label for="account" ><b>Account</b></label>
                            <select id="accountselect"></select>



                            <button type="button" class="btn" onclick="validateAddKlant()">save</button>
                            <button type="button" class="btn cancel" onclick="closeAddKlantForm()">Close</button>
                        </form>
                    </div>

                      <script>
                        function validateAddKlant() {
                            if (document.getElementById('klantform').checkValidity()) {
                                saveKlantForm(document.getElementById('voornaam').value, document.getElementById('tussenvoegsel').value, document.getElementById('achternaam').value, document.getElementById('accountselect').value);
                            } else
                            {
                                alert('ongeldige waarden');
//                                document.getElementById('artikelform').querySelector('input[type="submit"]').click();

                            }
                        }
                        ;
                    </script>        
                    
                    
                    <script>
                        function openAddKlantForm() {

                            $.ajax({
                                type: 'GET',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/account',
                                dataType: "json",

                                success: function (data, textStatus, jqXHR) {

                                    var select = document.getElementById("accountselect");
                                    for (index in data) {
                                        select.options[select.options.length] = new Option(data[index].id + ' ' + data[index].username);
                                    }

                                }});
                            document.getElementById("klantform").reset();
                            document.getElementById("addKlantForm").style.display = "block";
                        }

                        function closeAddKlantForm() {
                            document.getElementById("addKlantForm").style.display = "none";

                        }
                        function saveKlantForm(voornaam, tussenvoegsel, achternaam, account) {
                            var res = account.split(" ");
                            var accountid = res[0];

                            $.ajax({
                                type: 'POST',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/klant',
                                dataType: "json",
                                data: JSON.stringify({
                                    "accountId": {"id": accountid},
                                    "achternaam": achternaam,
                                    "id": null,
                                    "tussenvoegsel": tussenvoegsel,
                                    "voornaam": voornaam






                                }),
                                success: function (data, textStatus, jqXHR) {
                                    alert('Klant created successfully');

                                    var table = $('#klanten').dataTable();
                                    table.api().ajax.reload();

                                }});
                            closeAddKlantForm();


                        }
                    </script>
                </div>

                <!----------------------------------------------------------------------------------EDIT  klant -->
                <div id = "klantEditDeletepopup">
                    <div class="form-popup" id="EditDeleteKlantForm">
                        <form  id="klantfrm2" class="form-container" >
                            <h1>Voeg Klant toe</h1>

                            <label for="id" ><b>Id</b></label>
                            <input id="klanteditid" type="number" placeholder="" name="id" required value="" disabled="" >

                            <label for="voornaam" ><b>Voornaam</b></label>
                            <input id="klanteditvoornaam" type="text" placeholder="voer voornaam in" name="voornaam" required  maxlength="45" oninvalid="this.setCustomValidity('Voer voornaam in ')"  oninput="this.setCustomValidity('')">

                            <label for="tussenvoegsel" ><b>Tussenvoegsel</b></label>
                            <input id="klantedittussenvoegsel" type="text" placeholder="voer tussenvoegsel in" name="tussenvoegsel" maxlength="45">

                            <label for="achternaam" ><b>Achternaam</b></label>
                            <input id="klanteditachternaam" type="text" placeholder="voer achternaam in" name="achternaam" required  maxlength="45" oninvalid="this.setCustomValidity('Voer achternaam in ')"  oninput="this.setCustomValidity('')">

                            <label for="accountId" ><b>Account Id</b></label>
                            <input id="klanteditaccountId" type="text" placeholder="" name="accountId" disabled>

                            <button type="button" class="btn" onclick="validateEditKlant()">save</button>
                            <button type="button" class="btn cancel" onclick="closeKlantEditForm()">Close</button>
                        </form>
                    </div>
                    
                       <script>
                        function validateEditKlant() {
                            if (document.getElementById('klantfrm2').checkValidity()) {
                                editKlantForm(document.getElementById('klanteditid').value, document.getElementById('klanteditvoornaam').value, document.getElementById('klantedittussenvoegsel').value, document.getElementById('klanteditachternaam').value, document.getElementById('klanteditaccountId').value);
                            } else
                            {
                                alert('ongeldige waarden');
//                                document.getElementById('artikelform').querySelector('input[type="submit"]').click();

                            }
                        }
                        ;
                    </script> 

                    <script>
                        function openKlantEditForm(data) {
                            document.getElementById("klantfrm2").reset();
                            $('#klanteditid').attr('value', data.id.valueOf());
                            $('#klanteditvoornaam').attr('value', data.voornaam.valueOf());
                            $('#klantedittussenvoegsel').attr('value', data.tussenvoegsel.valueOf());
                            $('#klanteditachternaam').attr('value', data.achternaam.valueOf());
                            $('#klanteditaccountId').attr('value', (data.accountId.id.valueOf() + ' ' + data.accountId.username.valueOf()));
                            document.getElementById("EditDeleteKlantForm").style.display = "block";
                        }

                        function closeKlantEditForm() {
                            document.getElementById("EditDeleteKlantForm").style.display = "none";
                        }
                        function editKlantForm(id, voornaam, tussenvoegsel, achternaam, account) {
                            var res = account.split(" ");
                            var accountId = res[0];
                            $.ajax({
                                type: 'PUT',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/klant/' + id,
                                dataType: "json",
                                data: JSON.stringify({
                                    "accountId": {"id": accountId},
                                    "id": id,
                                    "voornaam": voornaam,
                                    "tussenvoegsel": tussenvoegsel,
                                    "achternaam": achternaam

                                }),
                                success: function (data, textStatus, jqXHR) {
                                    alert('Klant has been updated');
                                    var table = $('#klanten').dataTable();
                                    table.api().ajax.reload();
                                }});
                            closeKlantEditForm();
                        }
                    </script>
                    <!---------------------------------------------------------------------------------------DELETE klant -->
                    <script>

                        function deleteKlant(data) {


                            var retVal = confirm("Do you want to continue ?");
                            if (retVal === true) {
                                $.ajax({
                                    type: 'DELETE',
                                    contentType: 'application/json',
                                    url: 'http://localhost:8080/workshop3LO/webresources/klant/' + data.id.valueOf(),
                                    dataType: "json"
                                            //                                        data: JSON.stringify({
                                            //                                            "id": data.id.valueOf()
                                            //                                            "naam": naam,
                                            //                                            "prijs": prijs,
                                            //                                            "voorraad": voorraad

                                    ,
                                    success: function (data, textStatus, jqXHR) {
                                        alert('Klant deleted successfully');
                                        var table = $('#klanten').dataTable();
                                        table.api().ajax.reload();
                                    }});

                            } else {
                                alert("User does not want to continue!");

                            }

                        }
                    </script>
                </div>

                <h2>What our customers say</h2>
                <div id="myCarousel" class="carousel slide text-center" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">
                        <div class="item active">
                            <h4>"This company is the best. I am so happy with the result!"<br><span>Rob Sleutel, Directeur, RS4</span></h4>
                        </div>
                        <div class="item">
                            <h4>"One word... WOW!!"<br><span>Henk Keizer, Klant, RS4</span></h4>
                        </div>
                        <div class="item">
                            <h4>"Could I... BE any more happy with this company?"<br><span>Volkan, Programmer, RS4</span></h4>
                        </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>

            <!-- Container (bestelling Section) -->
            <div id="Bestelling" class="container-fluid">
                <div class="text-center">
                    <h2>Bestellingen</h2>
                    <h4>Bestellingenoverzicht</h4>
                </div>
                <div class="header">

                    <button id="btnAdd" onclick="openAddBestellingForm()">Add New </button>
                    <table id="bestelling" class="display" width="100%">

                    </table>
                </div>

                <!---------------------------------------------------------------------------------ADD Bestellingen form   -->

                <div id = "bestellingAddpopup">
                    <div class="form-popup" id="addBestellingForm">
                        <form  id="bestellingform" class="form-container" >
                            <h1>Voeg bestelling toe</h1>

                            <label for="totaalprijs" ><b>Totaal prijs</b></label>
                            <input id="totaalprijs" type="number" placeholder="" value="0" name="totaalprijs"  disabled>

                            <label for="klantid" ><b>Klant Id</b></label>
                            <select id="bestelingselectklant"></select>

                            <button type="button" class="btn" onclick="saveBestellingForm(document.getElementById('totaalprijs').value, document.getElementById('bestelingselectklant').value)">save</button>
                            <button type="button" class="btn cancel" onclick="closeAddBestellingForm()">Close</button>
                        </form>
                    </div>

                    <script>
                        function openAddBestellingForm() {

                            $.ajax({
                                type: 'GET',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/klant',
                                dataType: "json",

                                success: function (data, textStatus, jqXHR) {

                                    var selectBestelling = document.getElementById("bestelingselectklant");
                                    for (index in data) {
                                        selectBestelling.options[selectBestelling.options.length] = new Option(data[index].id + ' ' + data[index].voornaam + ' ' + data[index].tussenvoegsel + ' ' + data[index].achternaam);
                                    }

                                }});
                            document.getElementById("bestellingform").reset();
                            document.getElementById("addBestellingForm").style.display = "block";
                        }

                        function closeAddBestellingForm() {
                            document.getElementById("addBestellingForm").style.display = "none";
                        }
                        function saveBestellingForm(totaalprijs, klant) {
                            var res = klant.split(" ");
                            var klantid = res[0];
                            $.ajax({
                                type: 'POST',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/bestelling',
                                dataType: "json",
                                data: JSON.stringify({
                                    "id": null,
                                    "klantidKlant": {"id": klantid},
                                    "prijs": totaalprijs


                                }),
                                success: function (data, textStatus, jqXHR) {
                                    alert('Bestelling created successfully');

                                    var table = $('#bestelling').dataTable();
                                    table.api().ajax.reload();
                                }});
                            closeAddBestellingForm();
                        }
                    </script>
                </div>

                <!---------------------------------------------------------------------------------------DELETE BESTELLING -->
                <script>

                    function deleteBestelling(data) {


                        var retVal = confirm("Do you want to continue ?");
                        if (retVal === true) {
                            $.ajax({
                                type: 'DELETE',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/bestelling/' + data.id.valueOf(),
                                dataType: "json"
                                        //                                        data: JSON.stringify({
                                        //                                            "id": data.id.valueOf()
                                        //                                            "naam": naam,
                                        //                                            "prijs": prijs,
                                        //                                            "voorraad": voorraad

                                ,
                                success: function (data, textStatus, jqXHR) {
                                    alert('bestelling deleted successfully');
                                    var table = $('#bestelling').dataTable();
                                    table.api().ajax.reload();
                                }});

                        } else {
                            alert("User does not want to continue!");

                        }

                    }
                </script>
            </div>

            <h2>What our customers say</h2>
            <div id="myCarousel" class="carousel slide text-center" data-ride="carousel">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="2"></li>
                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    <div class="item active">
                        <h4>"This company is the best. I am so happy with the result!"<br><span>Rob Sleutel, Directeur, RS4</span></h4>
                    </div>
                    <div class="item">
                        <h4>"One word... WOW!!"<br><span>Henk Keizer, Klant, RS4</span></h4>
                    </div>
                    <div class="item">
                        <h4>"Could I... BE any more happy with this company?"<br><span>Volkan, Programmer, RS4</span></h4>
                    </div>
                </div>

                <!-- Left and right controls -->
                <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

        </div>

        <!-- Container (bestelregel Section) -->


        <div id="BestelRegel" class="container-fluid text-center">
            <h2>Bestelregels</h2>
            <h4>De bestelregels</h4>
            <br>
            <div class="header">


                <!--         <input type="text" id="searchKey"/>
                            <button id="btnSearch">Search</button>-->
                <button id="btnAddbestelregel" onclick="openAddBestelregelForm()">Add New </button>

                <table id="bestelregel" class="display" width="100%">

                </table>



            </div>

            <!---------------------------------------------------------------------------------ADD bestelregel form   -->

            <div id = "bestelregelAddpopup">
                <div class="form-popup" id="addBestelregelForm">
                    <form  id="bestelregelform" class="form-container" >
                        <h1>Voeg bestelregel toe</h1>

                        <label for="aantal" ><b>Aantal</b></label>
                        <input id="aantal" type="number" placeholder="voer aantal in" name="aantal" required min="0" oninvalid="this.setCustomValidity('Voer aantal in ')"  oninput="this.setCustomValidity('')">

                        <label for="artikel" ><b>Artikel</b></label>
                        <select id="artikelselect"></select>

                        <label for="bestellingId" ><b>Bestelling</b></label>
                        <select id="bestellingIdselect"></select>

                        <button type="button" class="btn" onclick="validateAddBestelregel()">save</button>
                        <button type="button" class="btn cancel" onclick="closeAddBestelregelForm()">Close</button>
                    </form>
                </div>
                
                <script>
                        function validateAddBestelregel() {
                            if (document.getElementById('bestelregelform').checkValidity()) {
                                saveBestelRegelForm(document.getElementById('aantal').value, document.getElementById('artikelselect').value, document.getElementById('bestellingIdselect').value);
                            } else
                            {
                                alert('ongeldige waarden');
//                                document.getElementById('artikelform').querySelector('input[type="submit"]').click();

                            }
                        }
                        ;
                    </script> 

                <script>
                    function openAddBestelregelForm() {

                        $.ajax({
                            type: 'GET',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/artikel',
                            dataType: "json",

                            success: function (data, textStatus, jqXHR) {

                                var select = document.getElementById("artikelselect");

                                for (index in data) {
                                    select.options[select.options.length] = new Option(data[index].id + ' euro: ' + data[index].prijs + ' ' + data[index].naam);
                                }

                            }});
                        $.ajax({
                            type: 'GET',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/bestelling',
                            dataType: "json",

                            success: function (data, textStatus, jqXHR) {

                                var select = document.getElementById("bestellingIdselect");
                                for (index in data) {
                                    select.options[select.options.length] = new Option(data[index].id);
                                }

                            }});

                        document.getElementById("bestelregelform").reset();
                        document.getElementById("addBestelregelForm").style.display = "block";
                    }

                    function closeAddBestelregelForm() {
                        document.getElementById("addBestelregelForm").style.display = "none";
                    }
                    function saveBestelRegelForm(aantal, artikel, bestellingId) {

                        var res = artikel.split(" ");
                        var artikelid = res[0];
                        var prijs = res[2] * aantal;
                        $.ajax({
                            type: 'POST',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/bestelregel',
                            dataType: "json",
                            data: JSON.stringify({
                                "aantal": aantal,
                                "artikelidArtikel": {"id": artikelid},
                                "bestellingidBestelling": {"id": bestellingId},
                                "id": null,
                                "prijs": prijs








                            }),
                            success: function (data, textStatus, jqXHR) {
                                alert('bestelregel created successfully');

                                var table = $('#bestelregel').dataTable();
                                table.api().ajax.reload();
                                updateBestellingTotaalPrijs(bestellingId);
                            }});
                        closeAddBestelregelForm();
                    }
                </script>
                <script>
                    function  updateBestellingTotaalPrijs(bestellingId) {
                        $.ajax({
                            "url": 'http://localhost:8080/workshop3LO/webresources/bestelregel/search/' + bestellingId,
                            "type": 'GET',
                            "cache": false,
                            "dataType": 'json',
                            "dataSrc": ""


                            ,
                            success: function (data, textStatus, jqXHR) {
                                var totaalprijs = 0;
                                for (var i = 0; i < data.length; i++) {
                                    totaalprijs += data[i].prijs;

                                }

                                var klantid = data[0].bestellingidBestelling.klantidKlant.id.valueOf();
                                $.ajax({
                                    type: 'PUT',
                                    contentType: 'application/json',
                                    url: 'http://localhost:8080/workshop3LO/webresources/bestelling/' + bestellingId,
                                    dataType: "json",
                                    data: JSON.stringify({
                                        "id": bestellingId,
                                        "klantidKlant": {"id": klantid},
                                        "prijs": totaalprijs


                                    }),
                                    success: function (data, textStatus, jqXHR) {
                                        alert('bestelling has been updated');
                                        var table = $('#bestelling').dataTable();
                                        table.api().ajax.reload();
                                    }});

                            }});
                    }
                </script>
            </div>
            <!----------------------------------------------------------------------------------EDIT  bestelregel -->

            <div id = "bestelRegelEditDeletepopup">
                <div class="form-popup" id="EditDeleteBestelRegelForm">
                    <form  id="bestelRegelfrm2" class="form-container" >
                        <h1>Voeg BestelRegel toe</h1>

                        <label for="id" ><b>id</b></label>
                        <input id="editid" type="number" value="" name="id" disabled>

                        <label for="aantal" ><b>Aantal</b></label>
                        <input id="editAantal" type="number" placeholder="voer aantal in" name="aantal" required min="0" oninvalid="this.setCustomValidity('Voer aantal in ')"  oninput="this.setCustomValidity('')">


                        <label for="artikel" ><b>Artikel</b></label>
                        <select id="editArtikelselect"></select>

                        <label for="bestellingId" ><b>Bestelling</b></label>
                        <select id="editBestellingIdselect"></select>

                        <button type="button" class="btn" onclick="validateEditBestelregel()">save</button>
                        <button type="button" class="btn cancel" onclick="closeBestelregelEditForm()">Close</button>
                    </form>
                </div>
                
                <script>
                        function validateEditBestelregel() {
                            if (document.getElementById('bestelRegelfrm2').checkValidity()) {
                                editBestelregelForm(document.getElementById('editid').value, document.getElementById('editAantal').value, document.getElementById('editArtikelselect').value, document.getElementById('editBestellingIdselect').value);
                            } else
                            {
                                alert('ongeldige waarden');
//                                document.getElementById('artikelform').querySelector('input[type="submit"]').click();

                            }
                        }
                        ;
                    </script> 

                <script>
                    function openBestelregelForm(data) {
                        document.getElementById("bestelRegelfrm2").reset();
                        $('#editid').attr('value', data.id.valueOf());
                        $('#editAantal').attr('value', data.aantal.valueOf());
                        $('#editPrijs').attr('value', data.prijs.valueOf());
//                    
                       
                        
                        $.ajax({
                            type: 'GET',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/artikel',
                            dataType: "json",

                            success: function (dataajax, textStatus, jqXHR) {

                                var select = document.getElementById("editArtikelselect");

                                for (index in dataajax) {
                                    select.options[select.options.length] = new Option(dataajax[index].id + ' euro: ' + dataajax[index].prijs + ' ' + dataajax[index].naam);
                                    if(data.artikelidArtikel.naam === dataajax[index].naam){
//                                      
                                       document.getElementById("editArtikelselect").selectedIndex = index;
                                    }
                                }
                                
                            }});
                        
//                        $('#editArtikelselect').val(data.artikelidArtikel.id + ' euro: ' + data.artikelidArtikel.prijs + ' ' + data.artikelidArtikel.naam);
                        $.ajax({
                            type: 'GET',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/bestelling',
                            dataType: "json",

                            success: function (dataajax, textStatus, jqXHR) {

                                var select = document.getElementById("editBestellingIdselect");
                                for (index in dataajax) {
                                    select.options[select.options.length] = new Option(dataajax[index].id);
                                     if(data.bestellingidBestelling.id === dataajax[index].id){
//                                      
                                       document.getElementById("editBestellingIdselect").selectedIndex = index;
                                    }
                                }

                            }});
                        document.getElementById("bestelRegelfrm2").reset();
                        document.getElementById("EditDeleteBestelRegelForm").style.display = "block";
                    }

                    function closeBestelregelEditForm() {
                        document.getElementById("EditDeleteBestelRegelForm").style.display = "none";
                    }
                    function editBestelregelForm(id, editAantal, editArtikelselect, editBestellingIdselect) {

                        var res = editArtikelselect.split(" ");
                        var artikelid = res[0];
                        var prijs = res[2] * editAantal;

                        $.ajax({
                            type: 'PUT',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/bestelregel/' + id,
                            dataType: "json",
                            data: JSON.stringify({
                                "aantal": editAantal,
                                "artikelidArtikel": {"id": artikelid},
                                "bestellingidBestelling": {"id": editBestellingIdselect},
                                "id": id,
                                "prijs": prijs

                            }),
                            success: function (data, textStatus, jqXHR) {
                                alert('bestelregel has been updated');
                                var table = $('#bestelregel').dataTable();
                                table.api().ajax.reload();
                                updateBestellingTotaalPrijs(editBestellingIdselect);
                            }});
                        closeBestelregelEditForm();
                    }
                </script>
                <!---------------------------------------------------------------------------------------DELETE bestelregel -->
                <script>

                    function deleteBestelregel(data) {

                        var bestellingId = data.bestellingidBestelling.id.valueOf();

                        var retVal = confirm("Do you want to continue ?");
                        if (retVal === true) {
                            $.ajax({
                                type: 'DELETE',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/bestelregel/' + data.id.valueOf(),
                                dataType: "json"
                                        //                                        data: JSON.stringify({
                                        //                                            "id": data.id.valueOf()
                                        //                                            "naam": naam,
                                        //                                            "prijs": prijs,
                                        //                                            "voorraad": voorraad

                                ,
                                success: function (data, textStatus, jqXHR) {
                                    alert('bestelregel deleted successfully');
                                    var table = $('#bestelregel').dataTable();
                                    table.api().ajax.reload();
                                    updateBestellingTotaalPrijs(bestellingId);
                                }});

                        } else {
                            alert("User does not want to continue!");

                        }

                    }
                </script>
            </div>
        </div>

        <!-- Container (Address Section) -->                             

        <div id="address" class="container-fluid text-center">
            <h2>Address</h2>
            <h4>De adressen</h4>
            <br>
            <div class="header">


                <!--         <input type="text" id="searchKey"/>
                            <button id="btnSearch">Search</button>-->
                <button id="btnAddArtikel" onclick="openAddAddressForm()">Add New </button>

                <table id="Address" class="display" width="100%">

                </table>



            </div>



            <!---------------------------------------------------------------------------------ADD Address form   -->
            <div id = "addressAddpopup">
                <div class="form-popupadres" id="addAddressForm" >
                    <form  id="addressform" class="form-containeradres"  >

                        <h1>Voeg Address toe</h1>

                        <label for="addressType" ><b>Address Type</b></label>
                        <select id="addressTypeselect">
                            <option value="POSTADRES">POSTADRES</option>
                            <option value="FACTUURADRES">FACTUURADRES</option>
                            <option value="BEZORGADRES">BEZORGADRES</option>
                        </select><br>
                        <label for="huisNummer" ><b>Huis Nummer</b></label>
                        <input id="huisNummer" type="number" placeholder="voer huisNummer in" name="huisNummer" required min="0" oninvalid="this.setCustomValidity('Voer huisnummer in ')"  oninput="this.setCustomValidity('')"><br>

                        <label for="postCode" >postCode</label>
                        <input id="postCode" type="text" placeholder="voer postCode in" name="postCode" required pattern="[1-9][0-9]{3}\s?[a-zA-Z]{2}" title="geldige postcode = 4 cijfers 2 letters" ><br>

                        <label for="straatNaam" ><b>straatNaam</b></label>
                        <input id="straatNaam" type="text" placeholder="voer straatNaam in" name="straatNaam" required maxlength="255" oninvalid="this.setCustomValidity('Voer straatnaam in ')"  oninput="this.setCustomValidity('')"><br>

                        <label for="toevoeging" ><b>toevoeging</b></label>
                        <input id="toevoeging" type="text" placeholder="voer toevoeging in" name="toevoeging" maxlength="255"><br>

                        <label for="woonplaats" ><b>woonplaats</b></label>
                        <input id="woonplaats" type="text" placeholder="voer woonplaats in" name="woonplaats" required maxlength="255"  oninvalid="this.setCustomValidity('Voer woonplaats in ')"  oninput="this.setCustomValidity('')"><br>

                        <label for="klantId" ><b>klantId</b></label>
                        <select id="klantIdselect"></select><br>

                        <button type="button" class="btn" onclick="validateAddAddress()">save</button>
                        <button type="button" class="btn cancel" onclick="closeAddAddressForm()">Close</button>
                    </form>
                </div>

                  <script>
                        function validateAddAddress() {
                            if (document.getElementById('addressform').checkValidity()) {
                                saveAddressForm(document.getElementById('addressTypeselect').value, document.getElementById('huisNummer').value, document.getElementById('postCode').value, document.getElementById('straatNaam').value, document.getElementById('toevoeging').value, document.getElementById('woonplaats').value, document.getElementById('klantIdselect').value);
                            } else
                            {
                                alert('ongeldige waarden');
//                                document.getElementById('artikelform').querySelector('input[type="submit"]').click();

                            }
                        }
                        ;
                    </script> 
                
                <script>
                    function openAddAddressForm() {

                        $.ajax({
                            type: 'GET',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/klant',
                            dataType: "json",

                            success: function (data, textStatus, jqXHR) {

                                var select = document.getElementById("klantIdselect");
                                for (index in data) {
                                    select.options[select.options.length] = new Option(data[index].id + ' ' + data[index].achternaam);
                                }

                            }});
                        document.getElementById("addressform").reset();
                        document.getElementById("addAddressForm").style.display = "block";
                    }

                    function closeAddAddressForm() {
                        document.getElementById("addAddressForm").style.display = "none";
                    }
                    function saveAddressForm(addressTypeselect, huisNummer, postCode, straatNaam, toevoeging, woonplaats, klantIdselect) {
                        var res = klantIdselect.split(" ");
                        var klantid = res[0];
                        $.ajax({
                            type: 'POST',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/adres',
                            dataType: "json",
                            data: JSON.stringify({
                                "adresType": addressTypeselect,
                                "huisnummer": huisNummer,
                                "id": null,
                                "klantidKlant": {"id": klantid},
                                "postcode": postCode,
                                "straatnaam": straatNaam,
                                "toevoeging": toevoeging,
                                "woonplaats": woonplaats






                            }),
                            success: function (data, textStatus, jqXHR) {
                                alert('Address created successfully');

                                var table = $('#Address').dataTable();
                                table.api().ajax.reload();
                            }});
                        closeAddAddressForm();
                    }
                </script>
            </div>


            <!----------------------------------------------------------------------------------edit Address   -->

            <div id = "addressEditDeletepopup">
                <div class="form-popup" id="EditDeleteAddressRegelForm">
                    <form  id="addressfrm2" class="form-container" >
                        <h1>Voeg Address toe</h1>

                        <label for="editId" ><b>Id</b></label>
                        <input id="editId" type="number" placeholder="" name="editId" value=""  disabled=""><br>

                        <label for="editaddressType" ><b>Address Type</b></label>
                        <select id="editaddressType">
                            <option value="POSTADRES">POSTADRES</option>
                            <option value="FACTUURADRES">FACTUURADRES</option>
                            <option value="BEZORGADRES">BEZORGADRES</option>
                        </select><br>
                        <label for="edithuisNummer" ><b>Huis Nummer</b></label>
                        <input id="edithuisNummer" type="number" placeholder="voer huisNummer in" name="edithuisNummer"  required min="0" oninvalid="this.setCustomValidity('Voer huisnummer in ')"  oninput="this.setCustomValidity('')"><br>

                        <label for="editpostCode" >postCode</label>
                        <input id="editpostCode" type="text" placeholder="voer postCode in" name="editpostCode" required  pattern="[1-9][0-9]{3}\s?[a-zA-Z]{2}" title="geldige postcode = 4 cijfers 2 letters"><br>

                        <label for="editstraatNaam" ><b>straatNaam</b></label>
                        <input id="editstraatNaam" type="text" placeholder="voer straatNaam in" name="editstraatNaam" required  maxlength="255" oninvalid="this.setCustomValidity('Voer straatnaam in ')"  oninput="this.setCustomValidity('')"><br>

                        <label for="toevoeging" ><b>toevoeging</b></label>
                        <input id="edittoevoeging" type="text" placeholder="voer toevoeging in" name="edittoevoeging" required maxlength="255"><br>

                        <label for="editwoonplaats" ><b>woonplaats</b></label>
                        <input id="editwoonplaats" type="text" placeholder="voer woonplaats in" name="editwoonplaats" required  maxlength="255" oninvalid="this.setCustomValidity('Voer woonplaats in ')"  oninput="this.setCustomValidity('')"><br>

                        <label for="editklantId" ><b>klantId</b></label>
                        <input  id="editklantId" type="number"  disabled><br>

                        <button type="button" class="btn" onclick="">save</button>
                        <button type="button" class="btn cancel" onclick="closeAddressEditForm()">Close</button>
                    </form>
                </div>
                
                <script>
                        function validateEditAddress() {
                            if (document.getElementById('addressfrm2').checkValidity()) {
                                editAddressForm(document.getElementById('editId').value, document.getElementById('editaddressType').value, document.getElementById('edithuisNummer').value, document.getElementById('editpostCode').value, document.getElementById('editstraatNaam').value, document.getElementById('edittoevoeging').value, document.getElementById('editwoonplaats').value, document.getElementById('editklantId').value);
                            } else
                            {
                                alert('ongeldige waarden');
//                                document.getElementById('artikelform').querySelector('input[type="submit"]').click();

                            }
                        }
                        ;
                    </script> 

                <script>
                    function openAddressEditForm(data) {
                        document.getElementById("addressfrm2").reset();
                        $('#editId').attr('value', data.id.valueOf());
                        $('#editaddressType').val(data.adresType.valueOf());
                        $('#edithuisNummer').attr('value', data.huisnummer.valueOf());
                        $('#editpostCode').attr('value', data.postcode.valueOf());
                        $('#editstraatNaam').attr('value', data.straatnaam.valueOf());
                        $('#edittoevoeging').attr('value', data.toevoeging.valueOf());
                        $('#editwoonplaats').attr('value', data.woonplaats.valueOf());
                        $('#editklantId').attr('value', data.klantidKlant.id.valueOf());


                      
                        document.getElementById("EditDeleteAddressRegelForm").style.display = "block";
                    }

                    function closeAddressEditForm() {
                        document.getElementById("EditDeleteAddressRegelForm").style.display = "none";
                    }
                    function editAddressForm(id, editaddressType, edithuisNummer, editpostCode, editstraatNaam, edittoevoeging, editwoonplaats, editklantId) {

                        $.ajax({
                            type: 'PUT',
                            contentType: 'application/json',
                            url: 'http://localhost:8080/workshop3LO/webresources/adres/' + id,
                            dataType: "json",
                            data: JSON.stringify({
                                "adresType": editaddressType,
                                "huisnummer": edithuisNummer,
                                "id": id,
                                "klantidKlant": {"id": editklantId},
                                "postcode": editpostCode,
                                "straatnaam": editstraatNaam,
                                "toevoeging": edittoevoeging,
                                "woonplaats": editwoonplaats

                            }),
                            success: function (data, textStatus, jqXHR) {
                                alert('Address has been updated');
                                var table = $('#Address').dataTable();
                                table.api().ajax.reload();
                            }});
                        closeAddressEditForm();
                    }
                </script>
                <!---------------------------------------------------------------------------------------DELETE Address -->
                <script>

                    function deleteAddress(data) {

                        var retVal = confirm("Do you want to continue ?");
                        if (retVal === true) {
                            $.ajax({
                                type: 'DELETE',
                                contentType: 'application/json',
                                url: 'http://localhost:8080/workshop3LO/webresources/adres/' + data.id.valueOf(),
                                dataType: "json"
                                        //                                        data: JSON.stringify({
                                        //                                            "id": data.id.valueOf()
                                        //                                            "naam": naam,
                                        //                                            "prijs": prijs,
                                        //                                            "voorraad": voorraad

                                ,
                                success: function (data, textStatus, jqXHR) {
                                    alert('Address deleted successfully');
                                    var table = $('#Address').dataTable();
                                    table.api().ajax.reload();
                                }});

                        } else {
                            alert("User does not want to continue!");

                        }

                    }
                </script>
            </div>


        </div>
        <!-- Container (Contact Section) -->
        <div id="contact" class="container-fluid bg-grey">
            <h2 class="text-center">CONTACT</h2>
            <div class="row">
                <div class="text-center">
                    <p>Contact us and we'll get back to you within 24 hours.</p>
                    <p><span class="glyphicon glyphicon-map-marker"></span> Lutjebroek, NL</p>
                    <p><span class="glyphicon glyphicon-phone"></span> +31 1515151515</p>
                    <p><span class="glyphicon glyphicon-envelope"></span> boer@piet.nl</p>
                </div>
               
            </div>
        </div>



        <footer class="container-fluid text-center">
            <a href="#mainPage" title="To Top">
                <span class="glyphicon glyphicon-chevron-up"></span>
            </a>
            <p> Made By LOP@RS4</p>
        </footer>

        <script>
            $(document).ready(function () {
                // Add smooth scrolling to all links in navbar + footer link
                $(".navbar a, footer a[href='#mainPage']").on('click', function (event) {
                    // Make sure this.hash has a value before overriding default behavior
                    if (this.hash !== "") {
                        // Prevent default anchor click behavior
                        event.preventDefault();
                        // Store hash
                        var hash = this.hash;
                        // Using jQuery's animate() method to add smooth page scroll
                        // The optional number (900) specifies the number of milliseconds it takes to scroll to the specified area
                        $('html, body').animate({
                            scrollTop: $(hash).offset().top
                        }, 900, function () {

                            // Add hash (#) to URL when done scrolling (default click behavior)
                            window.location.hash = hash;
                        });
                    } // End if
                });
                $(window).scroll(function () {
                    $(".slideanim").each(function () {
                        var pos = $(this).offset().top;
                        var winTop = $(window).scrollTop();
                        if (pos < winTop + 600) {
                            $(this).addClass("slide");
                        }
                    });
                });
            });
        </script>

    </body>
</html>
